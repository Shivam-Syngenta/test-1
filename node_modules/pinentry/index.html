<h1 id="node-pinentry">node-pinentry</h1>
<p>A library for running a GnuPG <a href="https://www.gnupg.org/related_software/pinentry/index.en.html">pinentry</a> process and communicating it with
the <a href="http://www.gnupg.org/documentation/manuals/assuan/">Assuan</a> client protocol.</p>
<h2 id="api">API</h2>
<h3 id="pinentry">Pinentry</h3>
<p>A class for running pinentry programs.</p>
<p>Example:</p>
<pre><code>var Pinentry = require(&quot;pinentry&quot;);
new Pinentry().connect().getPin({desc: &quot;gimme pin&quot;}, function (err, pin) {
    if (err) console.log(&quot;error&quot;);
    else console.log(&quot;got pin&quot;, pin);
    this.close();
});
</code></pre><p>For more detailed usage, see <code>example.js</code>.</p>
<h4 id="new-pinentry-">new Pinentry()</h4>
<p>Create a new pinentry object.</p>
<h4 id="pinentry-connect-cmd-callback-">pinentry.connect([cmd], [callback])</h4>
<p>Run the given pinentry command and connect to it. cmd defaults to &quot;pinentry&quot;.
If a callback is provided, it is called when the connection is established,
with an error if there is an error. If a connection error occurs but there is
no callback, an error is event is emitted on the pinentry object instead.</p>
<h4 id="pinentry-confirm-options-callback-">pinentry.confirm(options, callback)</h4>
<p>Prompt the user to confirm something. If user chooses OK, callback is called
with null arguments). If user chooses Cancel, callback is called with a
PinentryOperationCancelledError object.</p>
<h4 id="pinentry-message-options-callback-">pinentry.message(options, callback)</h4>
<p>Show a message to the user.</p>
<h4 id="pinentry-getpin-options-callback-">pinentry.getPin(options, callback)</h4>
<p>Ask the user to enter a pin. The callback is called with an error object if
there is an error, and a pin if the user enters a pin.</p>
<h4 id="event-error-">Event: &#39;error&#39;</h4>
<p>Emitted on error response for setting properties. Note that an error for a
confirm/message/getPin call itself is put in the callback instead of an event.</p>
<h4 id="options">Options</h4>
<p>Use these parameters for the <code>confirm</code>, <code>message</code>, and <code>getPin</code> methods.</p>
<ul>
<li><code>desc</code>: Description text</li>
<li><code>prompt</code>: Heading text</li>
<li><code>title</code>: Window title text</li>
<li><code>ok</code>: OK button text</li>
<li><code>cancel</code>: Cancel button text</li>
<li><code>error</code>: Additional text</li>
</ul>
<p>Other options (unknown use or not working):
<code>keyinfo</code>, <code>repeat</code>, <code>repeaterror</code>, <code>notok</code>, <code>timeout</code>, <code>qualitybar</code>,
<code>qualitybar_tt</code></p>
<h3 id="pinentryoperationcancellederror">PinentryOperationCancelledError</h3>
<p><code>Pinentry.OperationCancelledError</code></p>
<p>Error object returned to callbacks when user cancels a prompt.</p>
<h3 id="pinentryerror">PinentryError</h3>
<p><code>Pinentry.Error</code></p>
<p>Generic error object returned to callbacks.</p>
<h2 id="license">License</h2>
<p>Fair License (Fair)</p>
<p>Â© 2015 Charles Lehner</p>
<p>Usage of the works is permitted provided that this instrument is retained with
the works, so that any entity that uses the works is notified of this
instrument.</p>
<p>DISCLAIMER: THE WORKS ARE WITHOUT WARRANTY.</p>

